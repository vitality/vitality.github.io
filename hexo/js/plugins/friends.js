const friendsjs={requestAPI:(e,n,t)=>{let r=5;!function a(){return new Promise((o,s)=>{let i=0,l=setTimeout(()=>{0===i&&(i=2,l=null,s("请求超时"),0==r&&t())},5e3);fetch(e).then(function(e){if(2!==i&&(clearTimeout(l),o(e),l=null,i=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){r=0,n(e)}).catch(function(e){r>0?(r-=1,setTimeout(()=>{a()},5e3)):t()})})}()},layout:e=>{const n=$(e.el)[0];$(n).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),friendsjs.requestAPI(e.api,function(t){$(n).find(".loading-wrap").remove(),t.content.forEach((t,r)=>{var a='<div class="user-card">';a+='<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer"',a+=' href="'+t.url+'">',a+='<img src="'+(t.avatar||e.avatar)+'" onerror="javascript:this.src=\''+e.avatar+"';\">",a+='<div class="name"><span>'+t.title+"</span></div>",a+="</a>",a+="</div>",$(n).find(".group-body").append(a)})},function(){$(n).find(".loading-wrap svg").remove(),$(n).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){const e=document.getElementsByClassName("friendsjs-wrap");for(var n=0;n<e.length;n++){const r=e[n],a=r.getAttribute("api");if(null!=a){var t=new Object;t.el=r,t.api=a,t.class=r.getAttribute("class"),t.avatar="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/avatar/round/3442075.svg",friendsjs.layout(t)}}});